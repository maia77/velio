# 🔧 حل مشكلة نموذج "اتصل بنا"

## 🎯 المشكلة
❌ **الرسائل لا تُرسل من نموذج "اتصل بنا"**

## 🔍 السبب
إعدادات البريد الإلكتروني في ملف `.env` تحتوي على قيم افتراضية:
```
SENDER_EMAIL=your-email@yahoo.com
SENDER_PASSWORD=your-app-password
```

## ⚡ الحل السريع

### الطريقة 1: السكريبت التلقائي (الأسهل)
```bash
python3 fix_contact_form.py
```

### الطريقة 2: الإعداد اليدوي

#### 1. افتح ملف `.env` في محرر النصوص
```bash
nano .env
```

#### 2. استبدل القيم الافتراضية بالبيانات الحقيقية:
```env
EMAIL_PROVIDER=yahoo
SENDER_EMAIL=your-real-email@yahoo.com
SENDER_PASSWORD=your-real-app-password
RECEIVER_EMAIL=your-real-email@yahoo.com
```

#### 3. احفظ الملف وأعد تشغيل التطبيق

## 🔑 الحصول على كلمة مرور التطبيقات

### لـ Yahoo Mail:
1. اذهب إلى: https://login.yahoo.com/
2. اختر **Account Info** > **Account Security**
3. فعّل **Two-step verification** إذا لم يكن مفعلاً
4. ابحث عن **App passwords** أو **Generate app password**
5. اختر **Mail** وادخل اسم للتطبيق مثل **Velio Store**
6. انسخ كلمة المرور التي تظهر

### لـ Gmail:
1. اذهب إلى: https://myaccount.google.com/
2. اختر **Security** > **App passwords**
3. اختر **Mail** وادخل اسم للتطبيق
4. انسخ كلمة المرور

### لـ Outlook:
1. اذهب إلى: https://account.microsoft.com/
2. اختر **Security** > **App passwords**
3. اختر **Mail** وادخل اسم للتطبيق
4. انسخ كلمة المرور

## 🧪 اختبار النظام

### 1. اختبار سريع:
```bash
python3 quick_email_test.py
```

### 2. اختبار النموذج:
1. اذهب إلى صفحة "اتصل بنا"
2. املأ النموذج
3. أرسل الرسالة
4. تحقق من صندوق الوارد

## 🔧 استكشاف الأخطاء

### مشكلة: "إعدادات البريد الإلكتروني غير مكتملة"
**الحل**: تأكد من وجود ملف `.env` مع القيم الصحيحة

### مشكلة: "فشل في إرسال إشعار البريد الإلكتروني"
**الحل**: 
1. تحقق من كلمة مرور التطبيقات
2. تأكد من تفعيل Two-step verification
3. تحقق من صحة الإيميل

### مشكلة: الرسائل لا تصل
**الحل**:
1. تحقق من مجلد Spam/Junk
2. تأكد من صحة الإيميل المستقبل
3. جرب إرسال رسالة اختبار

## 📧 أنواع الإشعارات

عند الإعداد الصحيح، ستصلك رسائل عند:
- 📧 إرسال رسالة تواصل جديدة
- 🛒 طلب منتج واحد
- 🛍️ طلب شامل من سلة التسوق
- 📍 استلام موقع GPS

## 🎯 النتيجة المتوقعة

بعد الإعداد الصحيح:
- ✅ جميع الإشعارات تصل إلى البريد المحدد
- ✅ رسائل منسقة مع رموز تعبيرية
- ✅ معلومات مفصلة عن العميل والطلب
- ✅ نظام أمان محمي

## 🔄 دعم متعدد المزودين

النظام يدعم:
- 🔵 **Yahoo Mail** (افتراضي)
- 🔴 **Gmail**
- 🟠 **Outlook/Hotmail**

يتم تحديد المزود تلقائياً من عنوان الإيميل.

## 📞 الدعم

إذا استمرت المشكلة:
1. تحقق من سجلات التطبيق
2. جرب إعادة تشغيل التطبيق
3. تأكد من صحة جميع الإعدادات
4. راجع ملف `YAHOO_EMAIL_SETUP.md` للمزيد من التفاصيل

---

**ملاحظة**: تأكد من استخدام كلمة مرور التطبيقات وليس كلمة مرور الحساب العادية!
