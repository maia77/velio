# دليل إعداد البريد الإلكتروني - Velio Store

## المشكلة
نموذج "اتصل بنا" لا يرسل الرسائل لأن إعدادات البريد الإلكتروني غير مكتملة.

## الحل السريع

### 1. تشغيل أداة الإعداد التلقائي
```bash
python3 setup_email_quick.py
```

### 2. إعداد يدوي (إذا لم تعمل الأداة التلقائية)

#### أ. إنشاء ملف `.env` في مجلد المشروع:
```bash
touch .env
```

#### ب. إضافة المحتوى التالي إلى ملف `.env`:
```env
# إعدادات البريد الإلكتروني
EMAIL_PROVIDER=yahoo
SENDER_EMAIL=your-email@yahoo.com
SENDER_PASSWORD=your-app-password
RECEIVER_EMAIL=velio.contact@yahoo.com
SMTP_SERVER=smtp.mail.yahoo.com
SMTP_PORT=587
SECRET_KEY=your-secret-key-here
```

## إعداد كلمة مرور التطبيقات

### لـ Yahoo Mail:
1. اذهب إلى [إعدادات Yahoo](https://login.yahoo.com/account/security)
2. اختر "الأمان"
3. فعّل "المصادقة الثنائية"
4. أنشئ "كلمة مرور التطبيقات"
5. استخدم كلمة مرور التطبيقات في `SENDER_PASSWORD`

### لـ Gmail:
1. اذهب إلى [إعدادات Google](https://myaccount.google.com/security)
2. اختر "الأمان"
3. فعّل "التحقق بخطوتين"
4. أنشئ "كلمة مرور التطبيقات"
5. استخدم كلمة مرور التطبيقات في `SENDER_PASSWORD`

### لـ Outlook:
1. اذهب إلى [إعدادات Microsoft](https://account.microsoft.com/security)
2. اختر "الأمان"
3. فعّل "التحقق بخطوتين"
4. أنشئ "كلمة مرور التطبيقات"
5. استخدم كلمة مرور التطبيقات في `SENDER_PASSWORD`

## اختبار الإعداد

### 1. اختبار تلقائي:
```bash
python3 setup_email_quick.py
```

### 2. اختبار يدوي:
```bash
python3 test_contact_form.py
```

### 3. اختبار في المتصفح:
1. شغّل التطبيق: `python3 web/app.py`
2. اذهب إلى الموقع
3. املأ نموذج "اتصل بنا"
4. اضغط "إرسال الرسالة"

## استكشاف الأخطاء

### خطأ المصادقة (Authentication Error):
- تأكد من استخدام كلمة مرور التطبيقات وليس كلمة المرور العادية
- تأكد من تفعيل المصادقة الثنائية
- تأكد من صحة البريد الإلكتروني

### خطأ الاتصال (Connection Error):
- تأكد من اتصال الإنترنت
- تأكد من صحة إعدادات SMTP
- جرب مزود بريد إلكتروني آخر

### خطأ 403 (Forbidden):
- تأكد من وجود ملف `.env`
- تأكد من صحة متغيرات البيئة
- أعد تشغيل التطبيق بعد إضافة المتغيرات

## ملاحظات مهمة

1. **لا تستخدم كلمة المرور العادية** - استخدم كلمة مرور التطبيقات فقط
2. **فعّل المصادقة الثنائية** قبل إنشاء كلمة مرور التطبيقات
3. **احتفظ بملف `.env` آمن** - لا تشاركه مع أحد
4. **اختبر الإعداد** قبل الاستخدام الفعلي

## الدعم

إذا واجهت مشاكل:
1. تحقق من رسائل الخطأ في وحدة التحكم
2. تأكد من صحة جميع المتغيرات في ملف `.env`
3. جرب مزود بريد إلكتروني مختلف
4. راجع تعليمات مزود البريد الإلكتروني

---
تم إنشاؤه تلقائياً بواسطة نظام Velio Store
