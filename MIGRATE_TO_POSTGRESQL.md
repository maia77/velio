# دليل نقل البيانات إلى قاعدة البيانات الخارجية (PostgreSQL)

## الخطوات المطلوبة

### 1. تعيين كلمة مرور قاعدة البيانات
```bash
export DB_PASSWORD='your_postgresql_password_here'
```

### 2. تشغيل سكريبت النقل
```bash
python3 migrate_to_postgresql.py
```

## ما يفعله السكريبت

### ✅ المهام المنجزة:
- ✅ إنشاء نسخة احتياطية من قاعدة البيانات المحلية
- ✅ اختبار الاتصال بقاعدة البيانات PostgreSQL
- ✅ إنشاء الجداول في PostgreSQL
- ✅ نقل جميع البيانات (المنتجات، الطلبات، الصور، التعليقات)

### 📊 البيانات المنقولة:
- **المنتجات**: 16 منتج
- **الطلبات**: 4 طلبات  
- **الصور**: 23 صورة
- **تاريخ حالة الطلبات**: 18 سجل
- **التعليقات**: 0 تعليق

## بعد النقل

### 1. اختبار النظام
```bash
python3 shared_database_config_fallback.py
```

### 2. تشغيل التطبيقات
```bash
# التطبيق الرئيسي
cd web && python3 app.py

# تطبيق الإدارة
cd admin-app && python3 admin_app_fixed.py
```

## استكشاف الأخطاء

### إذا فشل الاتصال:
1. تحقق من كلمة مرور قاعدة البيانات
2. تحقق من اتصال الإنترنت
3. تحقق من إعدادات Render

### إذا فشل النقل:
- البيانات المحلية محفوظة في `shared_instance/products_backup_*.db`
- يمكن استعادة البيانات المحلية في أي وقت

## ملاحظات مهمة

- ⚠️ تأكد من تعيين كلمة مرور قاعدة البيانات قبل التشغيل
- 💾 تم إنشاء نسخة احتياطية من البيانات المحلية
- 🔄 يمكن الرجوع للبيانات المحلية في أي وقت
- 🌐 بعد النقل، سيعمل النظام على قاعدة البيانات الخارجية

